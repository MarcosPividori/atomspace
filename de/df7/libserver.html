<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>OpenCog Framework: server library</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">OpenCog Framework
   &#160;<span id="projectnumber">Branch: master, revision 6f0b7fc776b08468cf1b74aa9db028f387b4f0c0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('de/df7/libserver.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(13)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">server library </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This library (<em>opencog/server</em>) is the active core of the project. It is used by <a class="el" href="../../d5/dba/progcogserver.html">cogserver</a> program to do most of its functions. To build it use: </p>
<div class="fragment"><div class="line">make <a class="code" href="../../dc/d86/namespacepython_1_1undocumented_1_1blending__agent__demo.html#a81a5dd627bc4dfeec0323791ca34c060">server</a></div>
</div><!-- fragment --><p> Note that same directory contains the sources for another related library - <a class="el" href="../../de/df7/libserver.html#sect_builtinreqs">builtinreqs</a> - described in a section below.</p>
<p>This page is a high level overview of the library; to dig into the details read <a class="el" href="../../d9/d2a/group__grp__server.html">the comprehensive overview</a>.</p>
<p>Dependencies:</p>
<ul>
<li>nlp-types</li>
<li><a class="el" href="../../d6/ddb/libatomspace.html">atomspace</a></li>
<li>boost filesystem</li>
<li>boost thread</li>
<li>dl</li>
<li><a class="el" href="../../d3/d99/libsmob.html">smob</a> - Guile (if available)</li>
<li>persist (if available)</li>
</ul>
<p>The basic requirements for a server are grouped in BaseServer class. It only provides getAtomSpace() and createInstance(). There are also two global functions: <a class="el" href="../../dc/d86/namespacepython_1_1undocumented_1_1blending__agent__demo.html#a81a5dd627bc4dfeec0323791ca34c060">server()</a> to get the one and only instance and <a class="el" href="../../d5/d27/namespacepython_1_1atom__type__names.html#a8f646664069061cc8472c63bbe186346">atomspace()</a> that returns the <a class="el" href="../../d2/d55/classopencog_1_1AtomSpace.html">AtomSpace</a> associated with the server.</p>
<p>CogServer class, derived from BaseServer, implements the official server used by the opencog framework. It is responsible for managing 4 base structures (cycles, modules, agents and requests) and a NetworkServer for external access to the server.</p>
<p>The types of agents and requests known to the server are managed using Registry templated with Agent and Request. Registry helps to register, unregister and list classes, create, destroy and other management tasks.</p>
<p>An Agent (or mind agent <a href="http://wiki.opencog.org/w/MindAgent">in wiki</a>) is a base abstract class that should be extended by all opencog agents. To write a custom agent, all one has to do is to derive from the Agent class and implement the desired behavior inside the run() method. See <a href="http://wiki.opencog.org/w/Creating_a_new_Mind_Agent_in_C">Creating a new Mind Agent in C</a> and <a href="http://wiki.opencog.org/w/Creating_a_Mind_Agent_that_does_something_in_C">Creating a Mind Agent that does something in C</a></p>
<p>Extening the repertoire of known commands is done using either modules containing commands or with shells.</p>
<p>A module is first declared using DECLARE_MODULE, then implemented, maybe using TRIVIAL_MODULE or subclassing a class from Module. A Request is them added to module class using DECLARE_CMD_REQUEST that expects, among others, the routine that will be fired when that command is entered.</p>
<p>A NetworkServer has a list of listeners; the base class for SocketListener is SocketPort.</p>
<p>ConsoleSocket handles primary interface of the cogserver: the plain text command line. ConsoleSocket has a pointer to a GenericShell instance and is based on:</p>
<ul>
<li>ServerSocket that defines the minimal set of methods a server socket must have to handle the primary interface of the cogserver</li>
<li>RequestResult, so that the class may be associated with a Request; it derives from IHasMimeType and IRequestComplete interfaces.</li>
</ul>
<p>The server also logs the Activity of agents using SystemActivityTable. This forms the base for <a href="http://opencog.org/wiki/OpenCogPrime:AttentionalDataMining">Attentional Data Mining</a>.</p>
<h1><a class="anchor" id="sect_builtinreqs"></a>
builtinreqs library</h1>
<p>This library contains build-in requests. To build it use: </p>
<div class="fragment"><div class="line">make builtinreqs</div>
</div><!-- fragment --><p>Dependencies:</p>
<ul>
<li><a class="el" href="../../d6/ddb/libatomspace.html">atomspace</a></li>
<li><a class="el" href="../../d9/d7a/libcogutil.html">cogutil</a></li>
</ul>
<p>The module to implement the requests is BuiltinRequestsModule and it uses following factories: ListRequest, SleepRequest ShutdownRequest, LoadModuleRequest, UnloadModuleRequest and ListModulesRequest. These provide a basic system where the user is able to close the connection, list available commands, start, stop, advance and list agents. A comprehensive list is available in <a href="http://wiki.opencog.org/w/CogServer_Commands">the wiki</a>.</p>
<h1><a class="anchor" id="sect_shells"></a>
Shells</h1>
<p>Two libraries are provided that implement GenericShell interface:</p>
<h2><a class="anchor" id="ssect_schemeshell"></a>
Scheme shell</h2>
<p>To build it use: </p>
<div class="fragment"><div class="line">make scheme-shell</div>
</div><!-- fragment --><p>Dependencies:</p>
<ul>
<li><a class="el" href="../../d3/d99/libsmob.html">smob</a></li>
<li><a class="el" href="../../de/df7/libserver.html">server</a></li>
<li><a class="el" href="../../d6/ddb/libatomspace.html">atomspace</a></li>
<li><a class="el" href="../../d9/d7a/libcogutil.html">cogutil</a></li>
<li>boost system</li>
</ul>
<p>The command to enter this shell (provided by SchemeShellModule) is </p>
<div class="fragment"><div class="line">scm</div>
</div><!-- fragment --><p> Executing <a href="http://en.wikipedia.org/wiki/Scheme_%28programming_language%29">Scheme</a> code without actually entering the shell is also possible: </p>
<div class="fragment"><div class="line">scm-eval &lt;scheme code&gt;</div>
</div><!-- fragment --><h2><a class="anchor" id="ssect_pythonshell"></a>
Python shell</h2>
<p>To build it use: </p>
<div class="fragment"><div class="line">make py-shell</div>
</div><!-- fragment --><p>Dependencies:</p>
<ul>
<li><a class="el" href="../../d3/d99/libsmob.html">smob</a></li>
<li><a class="el" href="../../de/df7/libserver.html">server</a></li>
<li><a class="el" href="../../d6/ddb/libatomspace.html">atomspace</a></li>
<li><a class="el" href="../../d9/d7a/libcogutil.html">cogutil</a></li>
<li>boost system</li>
<li>python library</li>
</ul>
<p>The command to enter this shell (provided by PythonShellModule) is </p>
<div class="fragment"><div class="line">py</div>
</div><!-- fragment --><p> Executing <a href="http://www.python.org/">Python</a> code without actually entering the shell is also possible: </p>
<div class="fragment"><div class="line">py-eval &lt;scheme code&gt;</div>
</div><!-- fragment --><table  width="100%" border="0">
<tr>
<td><a class="el" href="../../d6/ddb/libatomspace.html">Previous</a> </td><td width="100%"></td><td><a class="el" href="../../de/de4/libspatial.html">Next</a> </td></tr>
</table>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../index.html">OpenCog source code documentation</a></li><li class="navelem"><a class="el" href="../../d9/d0d/libraries.html">Libraries</a></li>
    <li class="footer">Generated on Sat Aug 22 2015 21:00:14 for OpenCog Framework by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
